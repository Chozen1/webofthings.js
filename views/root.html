<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <script type="text/javascript">
    var key = 'EDIT-ME';
    var thngId = 'EDIT-ME';
  </script>

  <script type="text/javascript">
    function getParameterByName(name) {
      name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
      var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
          results = regex.exec(location.search);
      return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
    }

    if (getParameterByName('key') != ""){
      console.log('Get API key from query param:'+getParameterByName('key'))
      key = getParameterByName('key');
    }

    if (getParameterByName('thngId') != ""){
      console.log('Get thngId from query param:'+getParameterByName('thngId'))
      thngId = getParameterByName('thngId');
    }

  </script>

  <title>WoT Controller</title>

  <style class="anchorjs"></style>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>

  <!-- Documentation extras -->
  <link href="/css/docs.min.css" rel="stylesheet">

</head>


<body>

    <!-- Docs page layout -->
	<div class="bs-docs-header" id="content" tabindex="-1">
		<div class="container">
			<h1>Web Thing Root Resource</h1>
			<p>{{result.description}}</p>
		</div>
	</div>

	<div class="container bs-docs-container">
		<div class="row">
			<div class="col-md-9" role="main">
				<div class="bs-docs-section">

					<h2>Metadata</h2>

					<p>ID: {{result.id}}</p>
					<p>Name: {{result.name}}</p>
					<p>Description: {{result.description}}</p>
					<p>Tags: {{result.tags}}</p>

					<h3>Custom Fields</h3>
					{{#each result.customFields}}
					<p>Key: {{@key}} = {{this}}</p>
					{{/each}}

					<h3>Model</h3>

					<div>
					<a href="model/">View Full Model</a> of this Web Thing. 
					</div>

					<hr>

					<h2>Resources</h2>

					<ul>
					{{#each result.links}}
					<li><a href="{{@key}}">{{@key}}</a> - {{this.title}}</li>
					{{/each}}
					</ul>

					<hr>

					<h3>Properties</h3>

					<ul class="list-group">
						<li class="list-group-item">
						<span id="value-power" class="badge">0.0</span>
						power
						</li>
						<li class="list-group-item">
						<span id="value-voltage" class="badge">0</span>
						voltage
						</li>
						<li class="list-group-item">
						<span id="value-current" class="badge">0</span>
						current
						</li>
						<li class="list-group-item">
						<span id="value-status" class="badge">false</span>
						status
						</li>
					</ul>
				</div>

			</div>
		</div>
	</div>

<footer class="bs-docs-footer" role="contentinfo">
  <div class="container">

    <p>Check the WoT Book.</p>

  </div>
</footer>


</body></html>